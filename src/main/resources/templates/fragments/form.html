<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Form Fragments</title>
</head>
<body>
<button
        th:fragment="passwordVisibilityButton"
        class="btn btn-outline-secondary py-1 d-flex align-items-center"
        type="button"
        style="display:none;"
        _="
                init
                    show
                    set :input to the previous <input/>
                    set :span to the <span/> in me
                end
                on click
                    if :input's @type is 'password'
                        set :input's @type to 'text'
                        set :span's innerHTML to 'visibility_off'
                    else
                        set :input's @type to 'password'
                        set :span's innerHTML to 'visibility'
                end
                "
>
    <span class="material-symbols-outlined">visibility</span>
</button>
</body>
</html>